{
    "name": "Gramine Java Benchmark",
    "build": {
        "dockerfile": "Dockerfile",
        "context": ".."
    },
    "remoteUser": "dev",
    "overrideCommand": false,
    "runArgs": [
        "--name=gramine-java-sgx",
        "--device=/dev/sgx_enclave:/dev/sgx_enclave",
        "--device=/dev/sgx_provision:/dev/sgx_provision",
        "--device=/dev/sgx_vepc:/dev/sgx_vepc",
        "--publish",
        "127.0.0.1:2222:2222",
        "--publish",
        "127.0.0.1:6666:6666"
    ],
    "forwardPorts": [2222],
    "mounts": ["source=${localEnv:SSH_AUTH_SOCK},target=/ssh-agent,type=bind"],
    "hostRequirements": {
        "cpus": 2,
        "memory": "4gb"
    },
    "workspaceFolder":"/workspaces/gramine-java-sgx",
    "containerEnv": {
        "SSH_AUTH_SOCK": "/ssh-agent",
        "NVIM_LISTEN_ADDRESS": "0.0.0.0:6666"
    },
    "postCreateCommand": "echo '=== Verifying musl installation ===' && x86_64-linux-musl-gcc --version && echo '✓ musl-gcc is available' || echo '✗ musl-gcc not found'"
}
